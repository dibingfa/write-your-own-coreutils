# 开篇词 | 如何通过一个项目，掌握五大块编程领域的核心底层知识

你好，我是闪客。不知道你是否有过以下这些困惑？

1. 每次看 C 语言的基础知识都感觉没有太多东西，但实际用起来的时候却连一个简单的小程序都写不出来。
2. 操作系统到底为我们提供了哪些能力？"深入"研究了半天内核源码却还是对这个问题没有直观的感受。
3. 我们常用的 shell 命令的底层原理是什么？哦不对，我可能连怎么使用它都不知道。哦也不对，我可能连常用的 shell 命令有什么还认不全。
4. 如何编写一个自己的 CLI 小工具？让我一行一行写，一个一个参数解析我可能也会，但业界通常的最佳实践是怎么玩的？
5. 系统调用、库函数是什么？字符串解析、国际化、指针、性能优化怎么玩？这些琐碎的知识点，一个个看看不懂，看懂了也记不住，记住了也没法举一反三，总感觉自己好像学会了但这些琐碎的东西又一问三不知。

我相信这是很多程序员的困惑，尤其是不从事 C 语言或内核相关开发工作的 Java 程序员。

这个问题也困扰着我。

一方面，我没有大量的时间去系统研究这一大坨的细节，同时也担心花费过多时间研究某一块的知识，把其他地方的知识丢弃掉了。

另一方面，我找不到一个合适的突破口，就像上面的第一个问题一样，看了好久的 C 语言语法和原理，也看了很多内核源码的解析，却连一个简单的小程序都很难不出问题地写出来。

总结起来，我认为是以下几个原因所导致的：

1. 没有时间：互联网公司的卷，加上现在快节奏的生活，人们很少有时间专注做一件事了。
2. 缺乏练习：除非是从事 C 语言或底层相关的开发工作，大部分人都缺少实践项目，想想看自己除了 hello world 之外还编译过哪些自己写的程序？
3. 缺少动力：学了一大堆知识后，没有发挥的余地，也就没有办法更好地吸收知识，在复习旧知识和学习新知识的时候就很难提起兴趣。
4. 不成体系：学习各个知识点都是点状的，学了 C 语言语法无法对操作系统有什么认识，学了操作系统原理也无法让我使用 shell 命令更娴熟，等等。

难道就没有办法解决这些问题了么？

有！就是自己实现一套个性版的 coreutils 工具类！

没听说过 coreutils？没关系，它其实就是 fileutils、shellutils 和 textutils 的合并版。

这些也都没听说过？没关系，那你一定知道下面这些常用的 shell 命令吧：

cat tail wc ls cp mv rm mkdir chown chmod touch echo nohup kill ...

没错，这些都出自于 coreutils 项目！

学习它，并且亲自造轮子实现它，并且为它增加一些自己独特的功能，会是一件非常有趣的事情。

同时，这个过程可以让你一举多得，解决我之前描述的全部困惑！

1. 阅读这个项目的源码，最起码可以让你熟练掌握常用的 Linux 命令，同时还能了解到其中的原理，做到这点至少已经不亏了。
2. 自己实现它，可以让你通过实践的方式，掌握 C 语言在经典项目里的最佳实践，而不仅仅停留在理论层面。
3. 这里的很多代码都是使用了操作系统提供的功能，或 GLIBC 提供的库函数，你会更加直观地了解到操作系统和库函数到底为我们提供了什么，并且还能熟练使用他们。
4. coreutils 里面就是一个一个的独立的小程序，有简单的有复杂的，可以逐个击破，成就感和知识点会非常平滑地逐步积累，很舒服。
5. coreutils 里面的每个小程序都是一个经典的 CLI 小工具，你会掌握一个业界经典 CLI 工具的实现方式，为自己实现 CLI 工具打下良好的基础。
6. 拥有一款属于自己的开源项目！

如果从十分功利的角度看，你也至少能获得五大块的编程领域的核心底层知识：

1. Linux 常用命令的使用与原理。
2. C 语言的语法与 Linux 系统编程的最佳实践。
3. 操作系统功能与库函数的使用。
4. 业界成熟 CLI 工具的最佳实践。
5. GNU 项目标准体系化流程。
